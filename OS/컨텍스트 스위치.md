# 컨텍스트 스위치(Context Switch)

## 정의

컨텍스트 스위치는 현재 실행 중인 프로세스의 상태를 저장하고, 다른 프로세스의 상태를 복원하는 과정을 말합니다.  
이 과정은 CPU가 한 프로세스에서 다른 프로세스로 전환될 때 발생하며, 시스템의 멀티태스킹을 가능하게 합니다.

## 스위치가 일어나는 과정

1. **현재 프로세스의 상태 저장**:

   - 현재 실행 중인 프로세스의 PCB(Process Control Block)와 커널 레지스터의 정보를 저장합니다.
   - CPU 레지스터(프로그램 카운터, 스택 포인터 등)를 저장하여 프로세스의 실행 상태를 보존합니다.

2. **스케줄러 호출**:

   - 운영체제의 스케줄러가 호출되어 다음 실행할 프로세스를 결정합니다. 이 과정에서 프로세스의 우선순위 및 상태를 고려합니다.

3. **새 프로세스의 상태 복원**:

   - 선택된 새 프로세스의 PCB와 커널 레지스터 정보를 불러옵니다.
   - 해당 프로세스의 CPU 레지스터 상태를 복원하여, 이전에 중단된 지점에서 실행될 수 있도록 합니다.

4. **CPU 제어권 전환**:

   - 복원된 상태에 따라 CPU의 제어권을 새 프로세스에 넘깁니다.

5. **새 프로세스 실행**:
   - 새로 복원된 프로세스가 실행을 시작합니다.

## 적절한 스위칭을 위해 필요한 정보

- **PCB (Process Control Block)**:  
  프로세스의 상태, 프로세스 ID, 프로그램 카운터, CPU 레지스터, 메모리 관리 정보 등.

- **커널 레지스터**:  
  커널 모드에서 사용되는 레지스터 상태.

- **CPU 레지스터**:  
  사용자 모드에서 사용되는 레지스터 상태 (예: 프로그램 카운터, 스택 포인터).
