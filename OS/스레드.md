# 스레드 (Thread)

스레드는 프로세스 내에서 실행되는 독립적인 실행 흐름의 단위입니다. 하나의 프로세스는 여러 개의 스레드를 가질 수 있으며, 이들은 병렬적으로 실행될 수 있습니다.

## 스레드 구성 요소

*   **스택 (Stack):**   
각 스레드는 자신만의 스택을 가집니다.   
스택은 함수 호출, 지역 변수 저장 등 스레드 실행에 필요한 임시 데이터를 저장하는 데 사용됩니다.
*   **프로그램 카운터 (PC, Program Counter):**   
현재 실행 중인 명령어의 주소를 가리킵니다. 각 스레드는 독립적인 PC를 가지고 있어, 각자 다른 명령어를 실행할 수 있습니다.
*   **레지스터 (Registers):**   
CPU 내부에 있는 작은 저장 공간으로, 연산에 필요한 데이터나 주소 등을 임시로 저장합니다.   
각 스레드는 자신만의 레지스터 집합을 가집니다.
*   **TCB (Thread Control Block):**   
스레드에 대한 정보를 담고 있는 자료구조입니다.   
스레드의 상태, 우선순위, 스택 포인터, 프로그램 카운터 등의 정보가 저장됩니다.

### 스레드 간 공유 자원

*   **주소 공간 (Address Space)** 
*   **힙 (Heap)**  
*   **코드 (Code)**   
*   **데이터 (Data)**   

## 스레드의 장점

*   **병렬성:**   
여러 스레드가 동시에 실행되어 CPU 활용률을 높이고, 전체적인 작업 처리 속도를 향상시킬 수 있습니다.
*   **응답성:**   
I/O 작업 등으로 인해 특정 스레드가 대기 상태에 있더라도, 다른 스레드가 계속 실행될 수 있어 프로그램의 응답성을 유지할 수 있습니다.
*   **자원 공유:**   
스레드는 프로세스 내의 자원을 공유하므로, 프로세스 간 통신에 비해 자원 공유 및 통신 비용이 저렴합니다.

## 스레드 활용 시 유의점

*   **경쟁 조건 (Race Condition):**   
여러 스레드가 공유 자원에 동시에 접근하려고 할 때 발생할 수 있는 문제입니다. 스레드의 실행 순서에 따라 결과가 달라질 수 있습니다.
*   **임계 구역 (Critical Section):**   
경쟁 조건이 발생할 수 있는 공유 자원에 접근하는 코드 영역을 의미합니다.
*   **교착 상태 (Deadlock):**   
여러 스레드가 서로 필요한 자원을 점유하고 놓아주지 않아, 모든 스레드가 영원히 대기하는 상태를 의미합니다.

### 해결 방안

- **뮤텍스 (Mutex):** 상호 배제를 위한 도구로, 공유 자원에 대한 접근을 독점적으로 제어합니다.
-  **세마포어 (Semaphore):** 여러 개의 스레드가 동시에 공유 자원에 접근할 수 있도록 허용하는 도구입니다. 접근 가능한 스레드의 수를 제한할 수 있습니다.

