# 프로세스(Process)

**프로세스**(Process)는 실행 중인 프로그램을 의미합니다.  
이는 디스크에 저장된 코드와 데이터로 구성된 **프로그램**(Program)과 구분됩니다.

운영체제(OS)는 API를 통해 프로세스에 대한 다양한 동작 인터페이스를 제공합니다.

- **Create**: 프로세스를 생성합니다.
- **Destroy**: 프로세스를 종료합니다.
- **Wait**: 다른 프로세스의 완료를 대기합니다.
- **Miscellaneous control**: 다양한 제어 작업을 수행합니다.
- **Status**: 프로세스의 상태를 확인합니다.

### 프로세스를 위한 시스템 구성 요소

1. **메모리(Memory)**:  
   프로세스가 실행되는 동안 필요한 데이터와 코드가 저장되는 공간입니다.
2. **레지스터(Registers)**:  
   CPU 내부에 있는 저장 장치로, 현재 실행 중인 프로세스의 상태 정보를 저장합니다.
3. **스토리지(Storage)**:  
   디스크와 같은 비휘발성 저장 장치로, 프로그램 및 데이터를 영구적으로 저장합니다.

## 프로세스 생성 과정

1. **코드 및 데이터 로딩**:  
   디스크에 있는 코드와 정적 데이터를 메모리에 로드합니다.  
   메모리 위치는 프로세스의 주소 공간을 형성합니다.  
   이때 모든 코드가 한 번에 로드되는 것이 아니라, 필요한 부분만 지연 로딩(lazy loading)됩니다.
2. **런타임 스택 할당**:  
   메모리의 일부가 프로그램 런타임 스택(Run-time Stack)으로 할당됩니다.  
   이곳에는 지역 변수, 함수 인자, 반환 주소 등이 저장됩니다.
3. **힙 영역 할당**:  
   운영체제는 프로그램의 힙 영역을 할당하고, 동적 메모리 할당을 위한 공간을 제공합니다.
4. **I/O 최적화**:  
   운영체제는 I/O와 관련된 초기화 작업을 수행합니다.
5. **프로세스 실행**:  
   운영체제는 프로그램의 main 영역을 실행하며, CPU 제어권을 새롭게 생성된 프로세스에게 넘겨줍니다.

### 프로세스의 메모리 레이아웃

1. **Text**:  
   실행할 코드가 저장되는 영역입니다.
2. **Data**:  
   초기화된 데이터와 초기화되지 않은 데이터(bss)로 나뉩니다.
3. **Heap**:  
   동적으로 할당된 메모리가 저장됩니다.
4. **Stack**:  
   함수 호출 시 지역 변수와 상태 정보를 관리하는 영역입니다.

모든 프로세스는 각각의 개인 주소 공간(private address space)을 가집니다.

### 프로세스의 상태

1. **New**:  
   프로세스가 생성된 초기 상태입니다.
2. **Ready**:  
   실행 준비가 완료된 상태로, CPU 할당을 대기합니다.
3. **Waiting**:  
   다른 이벤트가 발생하기를 대기하는 상태입니다.
4. **Running**:  
   CPU에서 실행 중인 상태입니다.
5. **Terminated**:  
   실행이 종료된 상태입니다.

프로세스에 대한 정보는 **프로세스 제어 블록**(PCB, Process Control Block)에 저장됩니다.

## 프로세스 제어 블록(PCB)

프로세스 제어 블록(PCB, Process Control Block)은 운영체제가 각 프로세스에 대한 정보를 관리하는 데이터 구조입니다. PCB는 다음과 같은 정보를 포함합니다:

- **프로세스 상태**:  
  현재 프로세스의 상태
- **프로세스 ID(PID)**:  
  프로세스를 식별하는 고유한 식별자.
- **프로그램 카운터(Program Counter)**:  
  다음에 실행될 명령어의 주소.
- **CPU 레지스터**:  
  프로세스의 실행 중에 사용되는 CPU 레지스터의 값.
- **메모리 관리 정보**:  
  프로세스의 메모리 할당 정보 및 페이지 테이블.
- **I/O 상태 정보**:  
  프로세스가 사용 중인 I/O 장치 및 파일 정보.
- **우선순위**:  
  프로세스의 실행 우선순위.
