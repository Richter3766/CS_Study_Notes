# UDP (User Datagram Protocol)

## 개요

UDP는 신뢰성을 보장하지 않는 비연결형 프로토콜로, 데이터그램을 전송하는 데 사용됩니다. 이는 다음과 같은 특성을 가집니다:

- **Best Effort Service**:  
  UDP 세그먼트는 손실되거나 순서가 바뀌어 앱에 전달될 수 있습니다.
- **비연결성**(Connectionless):  
  UDP 송신자와 수신자 간의 핸드셰이킹 과정이 없습니다.

## UDP의 장점

- **연결 지연 없음**: 연결 설정 과정이 없기 때문에 지연이 발생하지 않습니다.
- **단순성**: 프로토콜이 단순하여 구현이 용이합니다.
- **헤더 크기 작음**: UDP 헤더는 8바이트로, TCP보다 훨씬 작습니다.
- **혼잡 제어 없음**: 수신자의 속도에 관계없이 가능한 한 빠르게 데이터를 전송할 수 있습니다.

## UDP 사용 예

- **멀티미디어 스트리밍 앱**:  
  손실에 대한 내성(Loss tolerant)이 있고, 데이터 전송률에 민감한 경우.
- **DNS (Domain Name System)**:  
  빠른 쿼리 응답이 필요한 경우.
- **SNMP (Simple Network Management Protocol)**:  
  네트워크 장비 관리에 사용.
- **HTTP/3**:  
  QUIC 프로토콜 기반으로, 빠른 전송 속도를 제공합니다.

### 신뢰성 있는 전송이 필요한 경우

UDP 위에 애플리케이션 레벨에서 신뢰성 있는 전송 메커니즘을 추가할 수 있습니다.  
예를 들어, 확인 응답(ACK), 재전송 메커니즘 등을 구현할 수 있습니다.

## UDP 세그먼트 헤더

UDP 세그먼트는 다음과 같은 필드를 포함합니다:

- **출발지 포트 번호 (Source Port)**: 송신자의 포트 번호.
- **목적지 포트 번호 (Destination Port)**: 수신자의 포트 번호.
- **길이 (Length)**: UDP 헤더와 데이터의 전체 길이.
- **체크섬 (Checksum)**: 오류 탐지를 위한 필드.
- **애플리케이션 데이터 (Application Data)**: 실제 전송할 데이터.

## UDP 체크섬

체크섬의 목적은 오류를 탐지하는 것입니다.

1. **송신자 측**: 세그먼트 내용의 일의 보수(one's complement) 합을 계산하고, 이 값을 UDP 체크섬 필드에 넣습니다.
2. **수신자 측**: 수신한 세그먼트의 체크섬을 계산하고 송신자가 제공한 체크섬 값과 비교합니다. 두 값이 같지 않으면 오류가 탐지된 것입니다.
