# 쿠키(Cookie)

## 쿠키의 정의

쿠키는 웹 서버가 클라이언트(브라우저)에 저장하는 작은 데이터 조각으로, 클라이언트와 서버 간의 상태 정보를 유지하기 위해 사용됩니다.

## 쿠키의 필요성

HTTP는 무상태 계층이므로, 클라이언트 상태를 저장할 수 있는 추가 정보가 있어야 합니다.  
여기서 쿠키는 클라이언트의 세션 정보를 유지하고, 사용자 경험을 개선하기 위해 필요합니다.

## 쿠키의 구조

쿠키는 다음과 같은 요소로 구성됩니다:

1. **HTTP 응답 메시지의 쿠키 헤더 라인**:  
   서버가 클라이언트에 쿠키를 전송할 때 사용합니다.

   - 예시: `Set-Cookie: sessionId=abc123; Path=/; HttpOnly`

2. **다음 HTTP 요청 메시지의 쿠키 헤더 라인**:  
   클라이언트가 서버에 요청할 때 쿠키 정보를 포함합니다.

   - 예시: `Cookie: sessionId=abc123`

3. **사용자 호스트에 저장된 쿠키 파일**:  
   클라이언트의 브라우저에 저장되어 관리됩니다.

4. **웹 사이트의 백엔드 데이터베이스**:  
   서버에서 쿠키의 상태를 관리하거나 확인하는 데 사용됩니다.

## 쿠키를 활용한 통신 과정

1. 클라이언트가 웹 서버에 요청을 보냅니다.
2. 서버는 클라이언트에게 쿠키를 설정하고, 응답 메시지에 쿠키 정보를 포함합니다.
3. 클라이언트는 쿠키를 저장하고, 이후의 요청 시 해당 쿠키를 포함하여 서버에 보냅니다.
4. 서버는 쿠키 정보를 기반으로 클라이언트의 상태를 확인하고, 적절한 응답을 제공합니다.

## 쿠키의 사용처

1. **인가**(Authorization):  
   사용자 인증 및 세션 관리를 위해 사용됩니다.
2. **사용자 정보 저장**:  
   사용자 설정, 선호도, 장바구니 정보 등을 저장하여 개인화된 경험을 제공합니다.
3. **추천 정보**:  
   사용자의 행동을 분석하여 맞춤형 추천을 제공하는 데 활용됩니다.

## 쿠키의 문제점

쿠키는 개인정보 침해의 문제를 일으킬 수 있습니다.  
사용자의 행동을 추적하거나, 민감한 정보를 저장할 수 있기 때문에 보안 및 프라이버시 문제에 대한 주의가 필요합니다.  
 또한, 쿠키가 만료되거나 삭제되면 저장된 정보가 사라지므로, 중요한 정보를 저장하기에는 한계가 있습니다.

## 세션과의 차이

- **쿠키**:

  - 클라이언트 측에 저장되며, 사용자의 브라우저에 영구적으로 존재할 수 있습니다.
  - 사용자가 브라우저를 닫아도 쿠키가 남아있으면 다음 방문 시에도 사용 가능합니다.
  - 주로 사용자 정보나 설정을 저장하는 데 사용됩니다.

- **세션**:
  - 서버 측에 저장되며, 클라이언트가 서버와 연결된 동안만 유효합니다.
  - 일반적으로 사용자가 브라우저를 닫거나 세션 타임아웃이 발생하면 종료됩니다.
  - 인증 정보와 같은 민감한 데이터 저장에 적합합니다.
